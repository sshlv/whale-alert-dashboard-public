import{c as y,r as a,j as e,m as s,W as N,C as f,h as u,D as A,n as I,k as w}from"./index-a99ea3d1.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),C=a.memo(()=>{const[c,m]=a.useState({}),[r,n]=a.useState(!0),[o,h]=a.useState(null),l=async()=>{n(!0);try{const t=await I.checkAPIStatus();m(t),h(new Date)}catch(t){console.error("Erreur vÃ©rification APIs:",t)}finally{n(!1)}};a.useEffect(()=>{l();const t=setInterval(l,5*60*1e3);return()=>clearInterval(t)},[]);const x=t=>t?t.available?"text-green-400":"text-red-400":"text-gray-400",p=t=>t&&t.available?w:d,g={coinGecko:"CoinGecko",coinCap:"CoinCap",alternative:"Alternative.me",binance:"Binance",cryptoCompare:"CryptoCompare"},j=Object.values(c).filter(t=>t==null?void 0:t.available).length,v=Object.keys(c).length;return e.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-gray-800/50 to-gray-700/50 backdrop-blur-sm rounded-xl border border-white/10 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(s.div,{animate:{rotate:r?360:0},transition:{duration:2,repeat:r?1/0:0,ease:"linear"},children:e.jsx(N,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h3",{className:"text-white font-semibold",children:"APIs Gratuites"}),e.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs font-bold",children:"GRATUIT"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white font-bold",children:[j,"/",v]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Actives"})]}),o&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xs text-gray-400 flex items-center space-x-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{children:o.toLocaleTimeString()})]})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.jsx(u,{children:Object.entries(c).map(([t,i])=>{const b=p(i);return e.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`bg-white/5 rounded-lg p-3 border transition-all ${i!=null&&i.available?"border-green-500/30 hover:bg-green-500/10":"border-red-500/30 hover:bg-red-500/10"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(b,{className:`w-4 h-4 ${x(i)}`}),e.jsx("span",{className:"text-white text-sm font-medium",children:g[t]||t})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xs ${x(i)}`,children:i!=null&&i.available?"En ligne":"Hors ligne"}),(i==null?void 0:i.free)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(A,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs text-green-400",children:"Gratuit"})]}),(i==null?void 0:i.rateLimit)&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Limite: ",i.rateLimit,"/min"]})]})]},t)})})}),r&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-2",children:e.jsx("div",{className:"text-blue-400 text-sm",children:"VÃ©rification des APIs..."})}),e.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("div",{className:"text-gray-400",children:"âœ… Toutes les donnÃ©es sont rÃ©cupÃ©rÃ©es gratuitement"}),e.jsx(s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"text-blue-400 hover:text-blue-300 transition-colors",disabled:r,children:"ðŸ”„ Actualiser"})]})})]})});C.displayName="APIStatus";export{C as default};
