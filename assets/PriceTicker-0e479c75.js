import{r as n,j as e,D as y,T as v,a as k}from"./index-a99ea3d1.js";const C=()=>{const[h,p]=n.useState({ETH:{price:0,change:0},BTC:{price:0,change:0},SOL:{price:0,change:0},RNDR:{price:0,change:0}}),[u,i]=n.useState(!0),j="CG-32US6KPCWUbogVhisEhpdby4";n.useEffect(()=>{c();const s=setInterval(c,3e4);return()=>clearInterval(s)},[]);const c=async()=>{var s,r,d,o,l,x,g,m;try{const a=`https://api.coingecko.com/api/v3/simple/price?ids=ethereum,bitcoin,solana,render-token&vs_currencies=usd&include_24hr_change=true&x_cg_demo_api_key=${j}`,t=await(await fetch(a)).json();p({ETH:{price:((s=t.ethereum)==null?void 0:s.usd)||0,change:((r=t.ethereum)==null?void 0:r.usd_24h_change)||0},BTC:{price:((d=t.bitcoin)==null?void 0:d.usd)||0,change:((o=t.bitcoin)==null?void 0:o.usd_24h_change)||0},SOL:{price:((l=t.solana)==null?void 0:l.usd)||0,change:((x=t.solana)==null?void 0:x.usd_24h_change)||0},RNDR:{price:((g=t["render-token"])==null?void 0:g.usd)||0,change:((m=t["render-token"])==null?void 0:m.usd_24h_change)||0}}),i(!1)}catch(a){console.error("Erreur r√©cup√©ration prix:",a),i(!1)}},b=s=>s>=1e3?`$${s.toLocaleString("fr-FR",{maximumFractionDigits:0})}`:s>=1?`$${s.toFixed(2)}`:`$${s.toFixed(4)}`,f=s=>{const r=s>=0;return e.jsxs("span",{className:`flex items-center space-x-1 ${r?"text-green-600":"text-red-600"}`,children:[r?e.jsx(v,{size:14}):e.jsx(k,{size:14}),e.jsxs("span",{children:[Math.abs(s).toFixed(2),"%"]})]})},N=s=>({ETH:"üî∑",BTC:"üü†",SOL:"üü£",RNDR:"üé®"})[s]||"üí∞";return u?e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Prix en Temps R√©el"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["ETH","BTC","SOL","RNDR"].map(s=>e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-700 rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-2/3"})]},s))})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Prix en Temps R√©el"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"CoinGecko API"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(h).map(([s,r])=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:N(s)}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:s})]}),e.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:b(r.price)}),e.jsx("div",{className:"text-sm",children:f(r.change)})]},s))}),e.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Prix mis √† jour toutes les 30 secondes ‚Ä¢ Donn√©es fournies par CoinGecko"})]})};export{C as default};
