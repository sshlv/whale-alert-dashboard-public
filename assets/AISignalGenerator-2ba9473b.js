import{r as x,e as _,u as W,f as Y,j as e,P as X,B as J,m as f,V as K,g as Q,E as Z,h as D,i as ee,C as te,A as se,k as ae,l as A}from"./index-a99ea3d1.js";const ie=x.memo(()=>{const{liveData:s}=_(),{alerts:T,settings:ne}=W(),{addNotification:M}=Y(),[I,F]=x.useState([]),[m,R]=x.useState(!0),[b,U]=x.useState(!0),[y,V]=x.useState("medium"),[d,L]=x.useState(null);x.useEffect(()=>{if(!m)return;const t=()=>{var k,$,E,P;const n=["BTC","ETH","SOL","RNDR"],h=n[Math.floor(Math.random()*n.length)],o=(($=(k=s==null?void 0:s.prices)==null?void 0:k[h])==null?void 0:$.price)||0,w=((P=(E=s==null?void 0:s.prices)==null?void 0:E[h])==null?void 0:P.change24h)||0;A.analyzeSentiment(s==null?void 0:s.prices);const j=A.generatePrediction(h,[o]),u={rsi:Math.random()*100,macd:Math.random()>.5?"bullish":"bearish",volume:Math.random()>.3?"high":"normal",bollinger:Math.random()>.7?"squeeze":"normal"};let g="weak",N=j.confidence;N>85?g="very_strong":N>75?g="strong":N>65&&(g="medium");const p=(j.predictedPrice-o)/o*100;let C="neutral",S="WATCH";p>3?(C="bullish",S=p>7?"STRONG_BUY":"BUY"):p<-3&&(C="bearish",S=p<-7?"STRONG_SELL":"SELL");const l=[];if(u.rsi>70?l.push("RSI en zone de surachat"):u.rsi<30&&l.push("RSI en zone de survente"),u.macd==="bullish"?l.push("Signal MACD haussier"):l.push("Signal MACD baissier"),u.volume==="high"&&l.push("Volume inhabituellement élevé"),u.bollinger==="squeeze"&&l.push("Compression Bollinger - explosion imminente"),Math.abs(w)>5&&l.push(`Momentum ${w>0?"haussier":"baissier"} fort (+${Math.abs(w).toFixed(1)}%)`),Math.random()>.7){const v=["Adoption institutionnelle détectée","Sentiment social très positif","Flux d'actualités haussières","Activité développeur en hausse","Corrélation macro favorable"];l.push(v[Math.floor(Math.random()*v.length)])}const r={id:Date.now()+Math.random(),crypto:h,type:C,action:S,strength:g,confidence:N.toFixed(1),currentPrice:o.toFixed(2),predictedPrice:j.predictedPrice.toFixed(2),priceChange:p.toFixed(1),timeframe:j.timeframe,reasons:l.slice(0,3),timestamp:new Date,technical:u,risk:j.risk,isUrgent:g==="very_strong"||Math.abs(p)>8};return F(v=>[r,...v.slice(0,9)]),(r.isUrgent||g==="very_strong")&&(M({type:r.type==="bullish"?"success":r.type==="bearish"?"warning":"ai",title:`🧠 Signal IA ${r.strength.toUpperCase()}`,message:`${r.action} ${r.crypto} - Confiance: ${r.confidence}%`,data:r,critical:r.isUrgent}),b&&r.isUrgent&&q(r.type)),r},a=()=>{const n={timestamp:new Date,sentiment:A.analyzeSentiment(s==null?void 0:s.prices),totalAlerts:T.length,volatility:G(),trend:O(),recommendation:""};n.sentiment.includes("bullish")&&n.volatility<.05?n.recommendation="📈 Marché haussier stable - Opportunités d'achat":n.sentiment.includes("bearish")&&n.volatility>.1?n.recommendation="🚨 Marché baissier volatile - Protection du capital recommandée":n.volatility>.15?n.recommendation="⚡ Haute volatilité - Trading court terme uniquement":n.recommendation="🤔 Marché en consolidation - Patience recommandée",L(n)},c=[setInterval(t,y==="high"?5e3:y==="medium"?8e3:12e3),setInterval(a,3e4)];return()=>c.forEach(clearInterval)},[m,y,s,T,M,b]);const G=()=>{if(!(s!=null&&s.prices))return .05;const t=Object.values(s.prices).map(a=>Math.abs(a.change24h||0));return t.reduce((a,i)=>a+i,0)/t.length/100},O=()=>{if(!(s!=null&&s.prices))return"neutral";const t=Object.values(s.prices).map(i=>i.change24h||0),a=t.reduce((i,c)=>i+c,0)/t.length;return a>2?"bullish":a<-2?"bearish":"neutral"},q=t=>{if(typeof window<"u"&&window.AudioContext){const a=new(window.AudioContext||window.webkitAudioContext),i=a.createOscillator(),c=a.createGain();i.connect(c),c.connect(a.destination);const n={bullish:[800,1e3,1200],bearish:[400,300,200],neutral:[600,600,600]};n[t].forEach((h,o)=>{setTimeout(()=>{i.frequency.setValueAtTime(h,a.currentTime),c.gain.setValueAtTime(.1,a.currentTime),c.gain.exponentialRampToValueAtTime(.01,a.currentTime+.2),o===0&&i.start(),o===n[t].length-1&&setTimeout(()=>i.stop(),200)},o*200)})}},z=t=>{const a={bullish:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",icon:"📈"},bearish:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",icon:"📉"},neutral:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",icon:"📊"}};return a[t.type]||a.neutral},B=t=>{switch(t){case"very_strong":return"🔥";case"strong":return"⚡";case"medium":return"💡";default:return"📍"}},H=t=>({BTC:"🟠",ETH:"🔷",SOL:"🟣",RNDR:"🎨"})[t]||"💰";return e.jsxs(X,{className:"group",delay:.2,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl",children:e.jsx(J,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"🧠 Générateur de Signaux IA"}),e.jsx("p",{className:"text-gray-400",children:"Intelligence artificielle avancée"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(!b),className:`p-2 rounded-lg transition-all ${b?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:b?e.jsx(K,{className:"w-5 h-5"}):e.jsx(Q,{className:"w-5 h-5"})}),e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>R(!m),className:`px-4 py-2 rounded-xl font-semibold transition-all ${m?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 text-white"}`,children:m?"ACTIF":"INACTIF"})]})]}),d&&e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(Z,{className:"w-5 h-5 text-cyan-400"}),e.jsx("span",{children:"Analyse de Marché IA"})]}),e.jsx("span",{className:"text-xs text-gray-400",children:d.timestamp.toLocaleTimeString()})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Sentiment"}),e.jsx("div",{className:"text-lg font-bold text-purple-400",children:d.sentiment.toUpperCase()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Volatilité"}),e.jsxs("div",{className:"text-lg font-bold text-orange-400",children:[(d.volatility*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Tendance"}),e.jsx("div",{className:"text-lg font-bold text-blue-400",children:d.trend.toUpperCase()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Alertes"}),e.jsx("div",{className:"text-lg font-bold text-green-400",children:d.totalAlerts})]})]}),e.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-lg border border-cyan-500/30",children:e.jsx("p",{className:"text-cyan-200 text-sm font-medium",children:d.recommendation})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"⚙️ Configuration Signaux"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-gray-400",children:"Fréquence:"}),e.jsx("div",{className:"flex space-x-2",children:["low","medium","high"].map(t=>e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(t),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all ${y===t?"bg-purple-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:t.toUpperCase()},t))})]})]}),e.jsx("div",{className:"space-y-4",children:I.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🤖"}),e.jsx("p",{className:"text-gray-400 text-lg",children:m?"Génération de signaux IA en cours...":"Générateur désactivé"})]}):e.jsx(D,{children:I.map((t,a)=>{const i=z(t);return e.jsxs(f.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{delay:a*.1},className:`p-6 rounded-xl border backdrop-blur-sm hover:scale-[1.02] transition-all duration-300 ${i.bg} ${i.border}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-3xl",children:H(t.crypto)}),e.jsx("span",{className:"text-2xl",children:i.icon}),e.jsx("span",{className:"text-xl",children:B(t.strength)}),t.isUrgent&&e.jsx("span",{className:"text-2xl animate-pulse",children:"🚨"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${i.text}`,children:t.action}),e.jsx("div",{className:"text-sm text-gray-400",children:t.strength.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Crypto"}),e.jsx("div",{className:"text-lg font-bold text-white",children:t.crypto})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Prix Actuel"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-200",children:["$",t.currentPrice]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Prédiction"}),e.jsxs("div",{className:`text-lg font-semibold ${i.text}`,children:["$",t.predictedPrice]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Variation"}),e.jsxs("div",{className:`text-lg font-bold ${i.text}`,children:[t.priceChange>0?"+":"",t.priceChange,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("span",{className:"text-sm text-gray-300",children:["Confiance: ",t.confidence,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm text-gray-300",children:t.timeframe})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-orange-400"}),e.jsxs("span",{className:"text-sm text-gray-300",children:["Risque: ",t.risk]})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.timestamp.toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"🔍 Facteurs d'analyse:"}),e.jsx("div",{className:"space-y-1",children:t.reasons.map((c,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-3 h-3 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-300",children:c})]},n))})]})]},t.id)})})})]})});ie.displayName="AISignalGenerator";export{ie as default};
